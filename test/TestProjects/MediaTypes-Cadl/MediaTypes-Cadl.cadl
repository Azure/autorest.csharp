import "@cadl-lang/rest";
import "@cadl-lang/openapi";
import "@azure-tools/cadl-dpg";

using Cadl.Http;
using Azure.DPG;

@service(
    {
        title: "Media Types Service",
        version: "2021-03-25"
    }
)
@doc("Play with produces/consumes and media-types in general.")
@server(
    "{endpoint}",
    "Endpoint Service",
    {
        endpoint: string,
    }
)
namespace MediaTypes;

model Body {
    id: string;
}

@route("/oneBinaryBodyTwoContentTypes")
@convenientAPI(true)
op oneBinaryBodyTwoContentTypes(@body body: bytes, @header contentType: "application/json" | "application/octet-stream"): void;

@route("/oneStringBodyThreeContentTypes")
@convenientAPI(true)
op oneStringBodyThreeContentTypes(@body body: string, @header contentType: "application/json" | "application/octet-stream" | "text/plain"): void;

@route("/oneModelBodyOneContentType")
@convenientAPI(true)
op oneModelBodyOneContentType(@body body: Body, @header contentType: "application/json"): void;