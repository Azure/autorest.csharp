// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.

// <auto-generated/>

#nullable disable

using System.IO;
using System.Text;
using System.Text.Json;
using Azure.Core;

namespace MgmtExactMatchFlattenInheritance
{
    internal static class JsonHelper
    {
        private static readonly JsonWriterOptions PrettyJsonOptions = new JsonWriterOptions { Indented = true };
        private static readonly JsonWriterOptions CompactJsonOptions = new JsonWriterOptions();

        public static string SerializeToString(IUtf8JsonSerializable data, bool indented = false)
        {
            MemoryStream stream = new MemoryStream();
            Utf8JsonWriter writer = new Utf8JsonWriter(stream, indented ? PrettyJsonOptions : CompactJsonOptions);
            writer.WriteObjectValue(data);
            writer.Flush();
            return Encoding.UTF8.GetString(stream.ToArray());
        }

        public static string SerializePropertiesToString(IUtf8JsonSerializable data, bool indented = false)
        {
            MemoryStream stream = new MemoryStream();
            Utf8JsonWriter writer = new Utf8JsonWriter(stream, indented ? PrettyJsonOptions : CompactJsonOptions);
            writer.WriteStartObject();
            writer.WritePropertyName("properties"u8);
            writer.WriteObjectValue(data);
            writer.WriteEndObject();
            writer.Flush();
            return Encoding.UTF8.GetString(stream.ToArray());
        }
    }
}
