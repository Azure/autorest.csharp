parameters:
- name: UseTypeSpecNext
  displayName: Use TypeSpec "next" version
  type: boolean
  default: false
- name: RunUnitTests
  displayName: Run unit tests
  type: boolean
  default: true
- name: RunGenerationChecks
  displayName: Run code generation checks
  type: boolean
  default: true

variables:
  RegenerationJobCount: 10
  BuildPrereleaseVersion: true
  ${{ if eq(variables['Build.Reason'], 'Schedule') }}:
    # In scheduled builds, we always use the "next" version of TypeSpec
    UseTypeSpecNext: true
  ${{ else }}:
    UseTypeSpecNext: ${{ parameters.UseTypeSpecNext }}
  EmitterPackageJsonPath: src/TypeSpec.Extension/Emitter.Csharp/package.json
  PublishInternal: true
  PublishDependsOnTest: false