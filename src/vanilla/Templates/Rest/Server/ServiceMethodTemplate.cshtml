@using System.Globalization
@using System.Linq;
@using System
@using AutoRest.Core.Model
@using AutoRest.Core.Utilities
@using AutoRest.CSharp
@using AutoRest.CSharp.Model
@inherits TemplateCs<AutoRest.CSharp.Model.MethodCs>

@XmlDocHandleDescriptionSummaryExternalDocs(Model.Description, Model.Summary, Model.ExternalDocsUrl)

[@("Http" + @Model.HttpMethod)("@Model.Url")]
@{ var methodSignature = "public " + Model.ReturnTypeString + " " + @Model.HttpMethod + "("; }

@foreach (var param in @Model.LocalParameters)
{
    @if (param.Location != ParameterLocation.None)
    {
        methodSignature += "[" + ControllerToModelBinderMapping.GetModelBinder(param.Location) + "]";

    }
    methodSignature += param.ModelTypeName + " ";
    methodSignature += param.Name;
}
@{ methodSignature += ")"; }
@methodSignature
{
@foreach (ParameterCs parameter in Model.Parameters.Where(p => !p.IsConstant))
{
    if (parameter.IsRequired && parameter.IsNullable())
    {
    @ParamNullCheck(parameter.Name)
    @:
    }
    if (parameter.CanBeValidated && (Model.HttpMethod != HttpMethod.Patch || parameter.Location != ParameterLocation.Body))
    {
    @:@(parameter.ModelType.ValidateType(Model, parameter.Name, parameter.Constraints))
    }
}
@if (Model.HttpMethod == HttpMethod.Get)
{
    @:return new @{@Model.ReturnTypeString}();
}

}
